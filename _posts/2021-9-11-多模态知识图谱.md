



# Multi-modal Knowledge Graphs for Recommender Systems

## Abstract

## 1 INTRODUCTION

 ## 2. RELATED WORK

### 2.1 Multi-modal Knowledge Graphs

* #### Features-based methods 

  把多模态信息当成实体的辅助特征，这些方法借鉴TransE,把视觉信息考虑在内，

  #### Features-based methods

### 2.2 KG-based Recommendation

* Embedding-based methods
* Path-based methods.
* Unified methods.



## 3 PROBLEM FORMULATION

 Entity images or entity description could provide sig-nificant visual or textual information for knowledge representation
learning. Most conventional methods learn knowledge representations merely from structured triples, ignoring the variety of data types (such as texts and images) that are often used in knowledge base. 

图片、评论、描述等信息可以为知识表示学习提供重要的视觉或文本信息

大多数传统方法只从结构化的三元组中学习知识表示，忽略了知识库中数量庞大的图片或文本等形式的信息

## Definition 1

### A Knowledge Graph (KG)

**G = （V,E） 有向图      V是顶点集，E是边集**

顶点代表实体

边代表    subject-property-object triple facts（主体-属性-客体），每一条边属于一个关系类型 e∈R（R是关系属性集）

每一条edge(head entity, relation, tail entity)  或者（h,t,t）表示一种从头实体到尾实体的关系

<img src="H:\gitfile\modiman.github.io\docs\_posts\imgs\image-20210915163430955.png"/>)

实例：**(Toy Story, DirectorOf, John Lasseter)** 

## Definition 2

### Multi-modal Knowledge Graph

添加了多模态实体<img src="H:\gitfile\modiman.github.io\docs\_posts\imgs\image-20210915163513910.png"></img>

示例：**(Toy Story, hasImage, a picture of film promotion)**

代表实体toy Story 有一个可以描述视觉信息的图片实体     

思考：用什么形式存储图片实体？图片嵌入向量？



## Definition 3

### **(Collaborative Knowledge Graph).**  协作知识图谱 CKG 

一个协作知识图谱把用户习惯和商品知识编码到一张统一关系图

### 步骤

1. 定义一个 用户-商品 （user-item）二部图

​    公式化描述为

<img src="H:\gitfile\modiman.github.io\docs\_posts\imgs\image-20210915150649797.png"/>

* e<sub>u</sub>是用户实体
* e<sub>i</sub>是商品实体
* y<sub>ui</sub>表示用户与商品的连接 ，e<sub>u</sub>与e<sub>i</sub>有连接为1，否则为0
* U 用户集
* I 商品集



2. 然后，CKG把二部图添加进知识图谱，这样每个用户的行为可以表示为一个形如（e<sub>u</sub>，Interact,e<sub>i</sub>）

​        的三元组，Interact=1意味着e<sub>u</sub>与e<sub>i</sub>有额外的交互关系

3. 基于商品-实体对 集合，用户-商品图可以同知识图谱一起无缝地整合进统一图

<img src="H:\gitfile\modiman.github.io\docs\_posts\imgs\image-20210915163540833.png"/>

在上图中，ei1,ei2,ei3同时出现在了二部图和知识图谱中，CKG中的交互对基于此



### Task description  任务描述 

* 输入：包含用户-商品二部图 和 多模态知识图谱在内的协作图
* 输出：用户接受某件商品的可能性

## 4 METHOD

<img src="H:\gitfile\modiman.github.io\docs\_posts\imgs\image-20210915163600883.png"/>

MKGAT 包含两个主要的子模块   **多模态知识图谱**嵌入模块和**推荐**模块

两个重要概念

* 多模态知识图谱实体编码器：使用不同的编码器嵌入不同的数据类型
* 多模态知识图谱注意力层：将每个实体的相邻实体信息聚合到每个实体本身学习一个新的实体嵌入

### 4.1 **多模态知识图谱**嵌入模块

以协作图为输入，**利用多模态知识图谱实体编码器和多模态知识图谱注意力层**为每个实体学习一种新的实体表示

然后新的实体表示可以用来学习知识图嵌入以表示知识推理关系。

### 4.2 **推荐**模块

把实体嵌入向量和协作图作为输入

# 手写部分



<img src="./imgs/mkgrs手写.png"/>